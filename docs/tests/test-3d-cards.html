<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test - Anima»õii Carduri</title>
    <link rel="stylesheet" href="css/main.css">
    <style>
        body {
            padding: 50px;
            background: #f0f4f8;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }
        
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .test-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .test-header h1 {
            color: #2563eb;
            margin-bottom: 10px;
        }
        
        .test-header p {
            color: #6b7280;
            margin: 5px 0;
        }
        
        .instructions {
            background: #e0f2fe;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 4px solid #2563eb;
        }
        
        .instructions h3 {
            color: #1e40af;
            margin-bottom: 10px;
        }
        
        .instructions ul {
            margin-left: 20px;
            color: #374151;
        }
        
        .instructions li {
            margin: 5px 0;
        }
        
        .os-grid {
            margin-top: 30px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
        }

        .os-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 6px 18px rgba(15, 23, 42, 0.06);
            transition: transform 200ms ease, box-shadow 200ms ease;
        }

        .os-card.visible:hover {
            transform: translateY(-6px) scale(1.02);
            box-shadow: 0 10px 24px rgba(15, 23, 42, 0.12);
        }

        .debug-info {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.85);
            color: white;
            padding: 12px;
            border-radius: 10px;
            font-size: 12px;
            font-family: 'Courier New', monospace;
            max-width: 300px;
            z-index: 9999;
        }
        
        .debug-info h4 { margin: 0 0 8px 0; color: #60a5fa; }
        .debug-item { margin: 4px 0; padding: 4px; background: rgba(255,255,255,0.04); border-radius:4px; }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h1>‚ú® Test Anima»õii Carduri</h1>
            <p>Comportament simplu »ôi predictibil</p>
            <p><strong>Status:</strong> <span style="color: #10b981;">Efecte 3D eliminate</span></p>
        </div>
        
        <div class="instructions">
            <h3>üìã Comportament Actual:</h3>
            <ul>
                <li><strong>‚úÖ Anima»õie de intrare:</strong> Fade-in + translate de jos √Æn sus</li>
                <li><strong>‚úÖ Hover simplu:</strong> Card se ridicƒÉ + scale mic + shadow mai mare</li>
                <li><strong>‚ùå FƒÉrƒÉ 3D:</strong> Nu mai existƒÉ rota»õii rotateX/rotateY</li>
                <li><strong>‚ùå FƒÉrƒÉ mousemove:</strong> Nu mai existƒÉ tracking al mouse-ului</li>
            </ul>
            <p style="margin-top: 15px; color: #059669; font-weight: 600;">‚ú® Rezultat: Anima»õii simple, performante »ôi consistente</p>
        </div>
        
        <section class="os-types">
            <div class="os-grid">
                <div class="os-card visible">
                    <h3>Windows</h3>
                    <p>Cel mai utilizat SO pe desktop-uri. Dezvoltat de Microsoft.</p>
                    <ul>
                        <li>Versiuni: XP, 7, 10, 11</li>
                        <li>ArhitecturƒÉ: Monolitic</li>
                        <li>Licen»õƒÉ: ProprietarƒÉ</li>
                    </ul>
                </div>

                <div class="os-card visible">
                    <h3>macOS</h3>
                    <p>Sistemul de operare al calculatoarelor Apple. Design elegant.</p>
                    <ul>
                        <li>Versiuni: Big Sur, Monterey, Ventura</li>
                        <li>ArhitecturƒÉ: Hibrid (XNU)</li>
                        <li>Licen»õƒÉ: ProprietarƒÉ</li>
                    </ul>
                </div>

                <div class="os-card visible">
                    <h3>Linux</h3>
                    <p>Sistemul de operare open-source, gratuit. Foarte flexibil.</p>
                    <ul>
                        <li>Distribu»õii: Ubuntu, Debian, Fedora</li>
                        <li>ArhitecturƒÉ: Monolitic</li>
                        <li>Licen»õƒÉ: GPL (open-source)</li>
                    </ul>
                </div>

                <div class="os-card visible">
                    <h3>Android</h3>
                    <p>SO pentru dispozitive mobile. Dezvoltat de Google.</p>
                    <ul>
                        <li>BazƒÉ: Linux kernel</li>
                        <li>Versiuni: 11, 12, 13, 14</li>
                        <li>Licen»õƒÉ: Open source</li>
                    </ul>
                </div>
            </div>
        </section>
    </div>
    
    <div class="debug-info">
        <h4>üîç Debug Info</h4>
        <div class="debug-item">Mouse: <span id="mousePos">-</span></div>
        <div class="debug-item">Card Hover: <span id="cardHover">None</span></div>
        <div class="debug-item">Transform: <span id="transform">-</span></div>
        <div class="debug-item">RAF Active: <span id="rafActive">No</span></div>
    </div>
    
    <script src="js/main.js"></script>
    <script>
        // Enhanced debugging (keeps variables scoped and avoids redeclarations)
        (function(){
            const cards = document.querySelectorAll('.os-card');
            const debugMousePos = document.getElementById('mousePos');
            const debugCardHover = document.getElementById('cardHover');
            const debugTransform = document.getElementById('transform');
            const debugRafActive = document.getElementById('rafActive');
            
            let currentHoveredCard = null;
            
            // Track global mouse position
            document.addEventListener('mousemove', (e) => {
                if (debugMousePos) debugMousePos.textContent = `(${e.clientX}, ${e.clientY})`;
            });
            
            // Monitor each card
            cards.forEach((card, index) => {
                card.addEventListener('mouseenter', () => {
                    currentHoveredCard = index + 1;
                    if (debugCardHover) debugCardHover.textContent = `Card ${index + 1}`;
                    card.style.border = '2px solid #f59e0b';
                });
                
                card.addEventListener('mouseleave', () => {
                    currentHoveredCard = null;
                    if (debugCardHover) debugCardHover.textContent = 'None';
                    if (debugTransform) debugTransform.textContent = '-';
                    card.style.border = '2px solid rgba(37, 99, 235, 0.1)';
                });
                
                // Monitor transform changes
                const observer = new MutationObserver(() => {
                    if (currentHoveredCard === index + 1) {
                        const transform = card.style.transform || '';
                        // Extract rotation values if present (robustly)
                        const rotateX = transform.match(/rotateX\(([^)]+)\)/);
                        const rotateY = transform.match(/rotateY\(([^)]+)\)/);
                        if (rotateX && rotateY && debugTransform) {
                            debugTransform.innerHTML = `X: ${rotateX[1]}<br>Y: ${rotateY[1]}`;
                        }
                    }
                });
                
                observer.observe(card, { attributes: true, attributeFilter: ['style'] });
            });
            
            // Monitor RAF activity (wrapped to avoid global redeclare)
            let rafCount = 0;
            const originalRAF = window.requestAnimationFrame.bind(window);
            window.requestAnimationFrame = function(callback){
                rafCount++;
                if (debugRafActive) debugRafActive.textContent = `Yes (${rafCount})`;
                const wrapped = function(t){
                    try { callback(t); } finally {
                        rafCount--;
                        if (debugRafActive) debugRafActive.textContent = rafCount > 0 ? `Yes (${rafCount})` : 'No';
                    }
                };
                return originalRAF(wrapped);
            };
            
            console.log('‚úÖ Test page loaded successfully!');
            console.log('üìä Monitoring', cards.length, 'cards for 3D transformations');
        })();
    </script>
</body>
</html>